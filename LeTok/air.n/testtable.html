<html>
<head>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="//cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
</head>
<body>
<table id="example" class="display" width="100%">

</table>
<script>
var dataset;
d3.tsv("air.n.models.tsv", function(error, data) {
	dataset = data;
	colnames = d3.keys(data[0]);
	othercols = colnames.filter(function(d) {return (!d.endsWith(".x") && !d.endsWith(".y"))});

	var table = d3.select("#example")
		.append("thead")
		.selectAll("tr")
		.data(othercols)
		.enter()
		.append("th")
		.text(function (d) { return d; });

	$(document).ready(function() {
		$('#example').DataTable( {
			"aaData" : dataset,
			"aoColumns": [
				{ mDataProp: "_id" },
				{ mDataProp: "BNCweighting" },
				{ mDataProp: "contextWindow" },
				{ mDataProp: "weightScheme" },
				{ mDataProp: "weightWindow" },
				{ mDataProp: "stress"}
			]
    	});
	});
});
</script>
</body>
</html>
